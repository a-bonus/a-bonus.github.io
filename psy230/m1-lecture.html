<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 1: Foundations of Statistics & Research Design</title>
    <style>
        /* Base Styling */
        :root {
            --primary: #007bff;
            --secondary: #6c757d;
            --success: #28a745;
            --warning: #ffc107;
            --light-bg: #f8f9fa;
            --border: #dee2e6;
            --text: #333;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text);
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fafafa;
        }

        h1, h2, h3 { color: #2c3e50; }
        
        /* Header */
        header {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            border-left: 5px solid var(--primary);
        }

        /* Tabs */
        .lecture-tabs {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .tab-navigation {
            display: flex;
            background-color: #e9ecef;
            overflow-x: auto;
            border-bottom: 1px solid var(--border);
        }

        .tab-button {
            flex: 1;
            padding: 15px;
            border: none;
            background: none;
            cursor: pointer;
            text-align: left;
            border-bottom: 3px solid transparent;
            min-width: 160px;
            transition: all 0.2s;
            font-weight: 600;
            color: #555;
        }

        .tab-button:hover { background-color: #dde2e6; }
        .tab-button.active { 
            background-color: #fff; 
            border-bottom-color: var(--primary); 
            color: var(--primary);
        }
        .tab-button.completed {
            border-bottom-color: var(--success);
            position: relative;
        }
        .tab-button.completed::after {
            content: "‚úì";
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: var(--success);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
        .tab-checkbox {
            margin-right: 8px;
            cursor: pointer;
            transform: scale(1.2);
        }
        .bottom-nav {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid var(--border);
        }

        /* Content */
        .tab-content { padding: 30px; }
        .tab-panel { display: none; animation: fadeIn 0.4s; }
        .tab-panel.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* Interactive Components */
        .scenario-box {
            background-color: #e3f2fd;
            border: 1px solid #bbdefb;
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
        }

        .warning-box {
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            border-left: 4px solid var(--warning);
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .assignments-box {
            background-color: #e8f5e9;
            border: 1px solid #c8e6c9;
            border-left: 4px solid var(--success);
            padding: 15px;
            margin: 20px 0 0 0;
            border-radius: 4px;
        }

        .assignments-box h3 {
            margin-top: 0;
            color: #2e7d32;
            font-size: 1.1em;
        }

        .assignments-box ul {
            margin: 10px 0 0 0;
            padding-left: 20px;
        }

        .assignments-box li {
            margin-bottom: 8px;
        }

        .knowledge-check {
            background-color: #f8f9fa;
            border: 1px solid var(--border);
            padding: 20px;
            border-radius: 6px;
            margin-top: 20px;
        }

        .reveal-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .answer-reveal {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background: white;
            border-left: 3px solid var(--success);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        /* Excel Styles */
        .excel-block {
            background-color: #1d6f42;
            color: white;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Consolas', monospace;
            margin: 10px 0;
        }

        /* Table Styles for APA Demo */
        .apa-demo-table {
            border-collapse: collapse;
            width: 100%;
            margin: 10px 0;
            font-family: 'Times New Roman', serif;
        }
        .apa-demo-table th {
            border-top: 1px solid black;
            border-bottom: 1px solid black;
            padding: 5px;
            text-align: left;
        }
        .apa-demo-table td {
            padding: 5px;
        }
        .apa-demo-table tr:last-child td {
            border-bottom: 1px solid black;
        }

    </style>
</head>
<body>

    <header>
        <h1>Module 1: Statistics & Research Design</h1>
        <p><strong>Goal:</strong> Master variable identification, understand distributions, calculate central tendency & spread, and create APA-formatted visuals.</p>
        <p><em>"Statistics is just a term for describing the set of concepts and techniques that we use to make sense of large groups of numbers."</em></p>
        <p style="margin-top:10px; font-size:0.95em; color:#555;">Because our brain has a limited capacity to hold many things in focus at once, we simply can't directly process a large group of numbers in a meaningful way. In this module, we learn ways to help our brain see patterns (or stories) out of a large set of seemingly random numbers.</p>
        
        <div class="assignments-box">
            <h3>üìã Module 1 Assignments & Due Items</h3>
            <ul>
                <li><strong>Read through the interactive learning materials</strong> (This page)</li>
                <li><strong>Assigned Readings:</strong> Textbook Chapters 1-4</li>
                <li><strong>Videos:</strong> Instructional Lectures by Dr. Kuo, highly recommended</li>
                <li><strong>M1 Quiz</strong></li>
                <li><strong>M1 Practice Problem</strong></li>
                <li><strong>M1 Assignment</strong></li>
            </ul>
        </div>
    </header>

    <div class="lecture-tabs">
        <div class="tab-navigation">
            <button class="tab-button active" onclick="showTab(1)">
                <input type="checkbox" id="progress-1" class="tab-checkbox" onchange="toggleTabComplete(1)">
                1. Intro & Logic
            </button>
            <button class="tab-button" onclick="showTab(2)">
                <input type="checkbox" id="progress-2" class="tab-checkbox" onchange="toggleTabComplete(2)">
                2. Variables & Scales
            </button>
            <button class="tab-button" onclick="showTab(3)">
                <input type="checkbox" id="progress-3" class="tab-checkbox" onchange="toggleTabComplete(3)">
                3. Distributions
            </button>
            <button class="tab-button" onclick="showTab(4)">
                <input type="checkbox" id="progress-4" class="tab-checkbox" onchange="toggleTabComplete(4)">
                4. Central Tendency
            </button>
            <button class="tab-button" onclick="showTab(5)">
                <input type="checkbox" id="progress-5" class="tab-checkbox" onchange="toggleTabComplete(5)">
                5. Visuals & APA
            </button>
            <button class="tab-button" onclick="showTab(6)">
                <input type="checkbox" id="progress-6" class="tab-checkbox" onchange="toggleTabComplete(6)">
                6. Excel Workshop
            </button>
        </div>

        <div class="tab-content">
            
            <!-- TAB 1: INTRO & LOGIC -->
            <div id="tab-1" class="tab-panel active">
                <h2>What is Statistics?</h2>
                <p>Statistics provides tools to summarize data and draw conclusions from it. In psychology, we collect data from participants, but raw numbers don't tell us much on their own. Statistics helps us find the story hidden in the data.</p>

                <h3>Two Branches of Statistics</h3>
                <div style="display:flex; gap:20px; margin: 20px 0;">
                    <div style="flex:1; background:#e3f2fd; padding:15px; border-radius:6px; border-left:4px solid #2196f3;">
                        <h4 style="margin-top:0;">Descriptive Statistics</h4>
                        <p><strong>Purpose:</strong> Summarize and organize data</p>
                        <p><strong>Questions answered:</strong></p>
                        <ul style="margin-bottom:0;">
                            <li>What is the average score?</li>
                            <li>How spread out are the scores?</li>
                            <li>What does the distribution look like?</li>
                        </ul>
                        <p style="margin-top:10px;"><em>Examples: Mean, Median, Standard Deviation, Histograms</em></p>
                    </div>
                    <div style="flex:1; background:#fff3e0; padding:15px; border-radius:6px; border-left:4px solid #ff9800;">
                        <h4 style="margin-top:0;">Inferential Statistics</h4>
                        <p><strong>Purpose:</strong> Draw conclusions beyond our data</p>
                        <p><strong>Questions answered:</strong></p>
                        <ul style="margin-bottom:0;">
                            <li>Is this difference real or just chance?</li>
                            <li>Can we generalize to a larger population?</li>
                            <li>Is there a significant relationship?</li>
                        </ul>
                        <p style="margin-top:10px;"><em>Examples: t-tests, ANOVA, Correlation tests</em></p>
                    </div>
                </div>

                <div class="warning-box">
                    <strong>Key Insight:</strong> Descriptive statistics <em>describe</em> what you have. Inferential statistics help you <em>infer</em> beyond what you have. This module focuses primarily on descriptive statistics.
                </div>

                <h3>Population vs. Sample</h3>
                <p>We rarely study everyone. Instead, we study a <strong>sample</strong> and use it to estimate what the <strong>population</strong> is like.</p>
                <ul>
                    <li><strong>Population:</strong> The entire group you want to learn about (e.g., all college students in the U.S.)</li>
                    <li><strong>Sample:</strong> The smaller group you actually study (e.g., 100 students from your university)</li>
                </ul>

                <hr style="margin: 30px 0; border: none; border-top: 1px solid #ddd;">

                <h2>The Logic of Variables</h2>
                <p>Before calculating anything, you must identify what you are studying. In research, we look for relationships between variables.</p>

                <h3>Independent (IV) vs. Dependent (DV)</h3>
                <p>Use the sentence: <strong>"Does [Variable A] depend on [Variable B]?"</strong></p>
                <ul>
                    <li>The variable that "depends" is the <strong>Dependent Variable (DV)</strong> (The Outcome).</li>
                    <li>The variable that influences the other is the <strong>Independent Variable (IV)</strong> (The Grouper/Predictor).</li>
                </ul>

                <div class="scenario-box">
                    <h4>Practice Scenario: Coffee & Sleep</h4>
                    <p><strong>Research Question:</strong> Does drinking coffee affect how many hours a student sleeps?</p>
                    <p><em>Ask yourself: Does coffee consumption depend on sleep? Or does sleep depend on coffee consumption?</em></p>
                    <button class="reveal-btn" onclick="reveal('ans-logic')">Reveal Analysis</button>
                    <div id="ans-logic" class="answer-reveal">
                        <p><strong>DV (Outcome):</strong> Hours of Sleep. (This is what we measure to see the effect).</p>
                        <p><strong>IV (Predictor):</strong> Coffee Consumption.</p>
                        <p><strong>Variables to analyze:</strong> Coffee Consumption (IV) and Hours of Sleep (DV).</p>
                    </div>
                </div>

                <h3>Demographic Splits</h3>
                <p>Often, a researcher wants to compare groups (e.g., "Do Seniors sleep more than Freshmen?").</p>
                <ul>
                    <li><strong>Variable 1:</strong> Class Standing (Freshman, Senior). This is the grouping variable.</li>
                    <li><strong>Variable 2:</strong> Sleep Hours. This is the measured variable.</li>
                    <li><strong>Note:</strong> "Freshman" is not a variable. "Freshman" is a <em>level</em> or <em>category</em> of the variable "Class Standing."</li>
                </ul>

                <div class="knowledge-check">
                    <h4>Knowledge Check</h4>
                    <p>A researcher calculates that the average anxiety score in their sample is 45.2. Is this descriptive or inferential statistics?</p>
                    <button class="reveal-btn" onclick="reveal('ans-desc')">Reveal Answer</button>
                    <div id="ans-desc" class="answer-reveal">
                        <p><strong>Descriptive.</strong> The researcher is simply summarizing the data they collected. They are not yet making claims about a larger population or testing whether differences are statistically significant.</p>
                    </div>
                </div>
            </div>

            <!-- TAB 2: VARIABLES & SCALES -->
            <div id="tab-2" class="tab-panel">
                <h2>Naming & Measuring Variables</h2>

                <h3>1. Naming Convention</h3>
                <p>Name the <strong>category</strong>, not the specific answer.</p>
                <ul>
                    <li>‚ùå Variable: "Yes"</li>
                    <li>‚úÖ Variable: "Response" (Levels: Yes, No)</li>
                    <li>‚ùå Variable: "Male"</li>
                    <li>‚úÖ Variable: "Gender" (Levels: Male, Female, Non-binary)</li>
                </ul>

                <h3>2. Scales of Measurement (NOIR)</h3>
                <p>Identifying the scale tells you which statistics and graphs are appropriate. Remember: <strong>N-O-I-R</strong> (Nominal, Ordinal, Interval, Ratio).</p>

                <table style="width:100%; border-collapse: collapse; margin-top: 15px;">
                    <tr style="background-color: #eee;">
                        <th style="padding:10px; border:1px solid #ccc;">Type</th>
                        <th style="padding:10px; border:1px solid #ccc;">Key Feature</th>
                        <th style="padding:10px; border:1px solid #ccc;">Examples</th>
                        <th style="padding:10px; border:1px solid #ccc;">Appropriate Stats</th>
                    </tr>
                    <tr>
                        <td style="padding:10px; border:1px solid #ccc;"><strong>Nominal</strong></td>
                        <td style="padding:10px; border:1px solid #ccc;">Names/Labels only. No order, no math.</td>
                        <td style="padding:10px; border:1px solid #ccc;">Gender, Major, Eye Color, Employment Status</td>
                        <td style="padding:10px; border:1px solid #ccc;">Mode, Frequency counts</td>
                    </tr>
                    <tr>
                        <td style="padding:10px; border:1px solid #ccc;"><strong>Ordinal</strong></td>
                        <td style="padding:10px; border:1px solid #ccc;">Ranked order. Intervals unequal.</td>
                        <td style="padding:10px; border:1px solid #ccc;">Class Standing, Single Likert item (1-5), Race placement (1st, 2nd, 3rd)</td>
                        <td style="padding:10px; border:1px solid #ccc;">Mode, Median</td>
                    </tr>
                    <tr>
                        <td style="padding:10px; border:1px solid #ccc;"><strong>Interval</strong></td>
                        <td style="padding:10px; border:1px solid #ccc;">Equal intervals. No true zero.</td>
                        <td style="padding:10px; border:1px solid #ccc;">Temperature (¬∞F/¬∞C), IQ scores, Calendar year</td>
                        <td style="padding:10px; border:1px solid #ccc;">Mean, SD, all statistics</td>
                    </tr>
                    <tr>
                        <td style="padding:10px; border:1px solid #ccc;"><strong>Ratio</strong></td>
                        <td style="padding:10px; border:1px solid #ccc;">Equal intervals + True zero.</td>
                        <td style="padding:10px; border:1px solid #ccc;">Age, Height, Weight, Reaction time, Number of errors</td>
                        <td style="padding:10px; border:1px solid #ccc;">Mean, SD, all statistics + ratios</td>
                    </tr>
                </table>

                <div class="scenario-box">
                    <h4>Why Does True Zero Matter?</h4>
                    <p><strong>Interval (No true zero):</strong> 0¬∞F doesn't mean "no temperature." You can't say 80¬∞F is "twice as hot" as 40¬∞F.</p>
                    <p><strong>Ratio (True zero):</strong> 0 years old means no age. You CAN say someone who is 40 is twice as old as someone who is 20.</p>
                    <p><em>In practice, interval and ratio are often treated the same way in psychology. We group them as "Scale" data.</em></p>
                </div>

                <div class="warning-box">
                    <strong>Important Exception: Composite Scores</strong><br>
                    If a researcher takes 10 survey questions (Likert scale 1-7) and <strong>averages</strong> them to create a "Total Satisfaction Score," that new score is treated as <strong>Scale (Interval)</strong>, not Ordinal. This is common practice in psychology research.
                </div>

                <div class="knowledge-check">
                    <h4>Knowledge Check</h4>
                    <p>What scale of measurement is "Number of siblings"?</p>
                    <button class="reveal-btn" onclick="reveal('ans-scale')">Reveal Answer</button>
                    <div id="ans-scale" class="answer-reveal">
                        <p><strong>Ratio.</strong> There are equal intervals between values (the difference between 1 and 2 siblings is the same as between 3 and 4), AND there is a true zero (0 siblings means no siblings at all). You can meaningfully say that 4 siblings is "twice as many" as 2 siblings.</p>
                    </div>
                </div>
            </div>

            <!-- TAB 3: DISTRIBUTIONS -->
            <div id="tab-3" class="tab-panel">
                <h2>Understanding Distributions</h2>
                <p>A <strong>distribution</strong> shows how data values are spread out. Before calculating statistics, examine the shape of your distribution.</p>

                <h3>Frequency Distributions</h3>
                <p>A frequency distribution organizes data by showing how often each value (or range of values) occurs.</p>

                <div style="display:flex; gap:20px; margin: 20px 0;">
                    <div style="flex:1;">
                        <h4>Simple Frequency Table</h4>
                        <table style="width:100%; border-collapse: collapse;">
                            <tr style="background:#eee;"><th style="padding:8px; border:1px solid #ccc;">Score</th><th style="padding:8px; border:1px solid #ccc;">Frequency (f)</th></tr>
                            <tr><td style="padding:8px; border:1px solid #ccc;">5</td><td style="padding:8px; border:1px solid #ccc;">3</td></tr>
                            <tr><td style="padding:8px; border:1px solid #ccc;">4</td><td style="padding:8px; border:1px solid #ccc;">7</td></tr>
                            <tr><td style="padding:8px; border:1px solid #ccc;">3</td><td style="padding:8px; border:1px solid #ccc;">12</td></tr>
                            <tr><td style="padding:8px; border:1px solid #ccc;">2</td><td style="padding:8px; border:1px solid #ccc;">5</td></tr>
                            <tr><td style="padding:8px; border:1px solid #ccc;">1</td><td style="padding:8px; border:1px solid #ccc;">3</td></tr>
                            <tr style="background:#f5f5f5;"><td style="padding:8px; border:1px solid #ccc;"><strong>Total</strong></td><td style="padding:8px; border:1px solid #ccc;"><strong>N = 30</strong></td></tr>
                        </table>
                    </div>
                    <div style="flex:1;">
                        <h4>Grouped Frequency Table</h4>
                        <p>When data has many values (e.g., ages 18-65), group them into <strong>bins</strong>:</p>
                        <table style="width:100%; border-collapse: collapse;">
                            <tr style="background:#eee;"><th style="padding:8px; border:1px solid #ccc;">Age Range</th><th style="padding:8px; border:1px solid #ccc;">Frequency</th></tr>
                            <tr><td style="padding:8px; border:1px solid #ccc;">18-24</td><td style="padding:8px; border:1px solid #ccc;">15</td></tr>
                            <tr><td style="padding:8px; border:1px solid #ccc;">25-34</td><td style="padding:8px; border:1px solid #ccc;">22</td></tr>
                            <tr><td style="padding:8px; border:1px solid #ccc;">35-44</td><td style="padding:8px; border:1px solid #ccc;">18</td></tr>
                            <tr><td style="padding:8px; border:1px solid #ccc;">45-54</td><td style="padding:8px; border:1px solid #ccc;">10</td></tr>
                        </table>
                    </div>
                </div>

                <h3>The Normal Distribution</h3>
                <p>The <strong>normal distribution</strong> (bell curve) is the most important distribution in statistics. Many psychological variables are approximately normally distributed.</p>

                <div class="scenario-box">
                    <h4>Characteristics of a Normal Distribution</h4>
                    <ul>
                        <li><strong>Symmetrical:</strong> The left and right sides are mirror images</li>
                        <li><strong>Bell-shaped:</strong> Most scores cluster in the middle, fewer at the extremes</li>
                        <li><strong>Mean = Median = Mode:</strong> All three are at the center</li>
                        <li><strong>Predictable spread:</strong> ~68% of scores fall within 1 SD of the mean; ~95% within 2 SDs</li>
                    </ul>
                    <div style="text-align:center; margin-top:15px; padding:20px; background:white; border-radius:6px;">
                        <img src="../assets/psy-230-assets/m1/normaldistribution.png" alt="Normal Distribution showing bell curve with standard deviations and percentages" style="max-width:100%; height:auto; border-radius:4px;">
                    </div>
                </div>

                <h3>Skewness: When Distributions Lean</h3>
                <p><strong>Skewness</strong> describes the asymmetry of a distribution. The "tail" tells you the direction.</p>

                <div style="display:flex; gap:20px; margin: 20px 0;">
                    <div style="flex:1; background:#e8f5e9; padding:15px; border-radius:6px;">
                        <h4>Positive Skew (Right Skew)</h4>
                        <p>Tail points RIGHT (toward high values)</p>
                        <img src="../assets/psy-230-assets/m1/positiveskew.png" alt="Positive Skew Distribution" style="max-width:100%; height:auto; margin:10px 0; border-radius:4px;">
                        <p><strong>Mean > Median > Mode</strong></p>
                        <p><em>Example: Income (most people earn moderate amounts, few earn millions)</em></p>
                    </div>
                    <div style="flex:1; background:#fff3e0; padding:15px; border-radius:6px;">
                        <h4>Negative Skew (Left Skew)</h4>
                        <p>Tail points LEFT (toward low values)</p>
                        <img src="../assets/psy-230-assets/m1/negativeskew.png" alt="Negative Skew Distribution" style="max-width:100%; height:auto; margin:10px 0; border-radius:4px;">
                        <p><strong>Mean < Median < Mode</strong></p>
                        <p><em>Example: Easy exam scores (most score high, few score low)</em></p>
                    </div>
                </div>

                <div class="warning-box">
                    <strong>Why Skewness Matters:</strong> When data is skewed, the mean gets "pulled" toward the tail and doesn't represent the typical score well. Use the <strong>median</strong> instead for skewed data.
                </div>

                <h3>Kurtosis: Peak & Tails</h3>
                <p><strong>Kurtosis</strong> describes how peaked or flat a distribution is, and how heavy the tails are.</p>

                <div style="text-align:center; margin: 20px 0;">
                    <img src="../assets/psy-230-assets/m1/kurtosis.png" alt="Kurtosis: Mesokurtic, Leptokurtic, and Platykurtic distributions" style="max-width:100%; height:auto; border-radius:4px;">
                </div>

                <div class="knowledge-check">
                    <h4>Knowledge Check</h4>
                    <p>Housing prices in a city: most homes cost $200,000-$400,000, but a few mansions cost $2-5 million. What type of skew would this distribution have?</p>
                    <button class="reveal-btn" onclick="reveal('ans-skew')">Reveal Answer</button>
                    <div id="ans-skew" class="answer-reveal">
                        <p><strong>Positive skew (right skew).</strong> The expensive mansions create a long tail extending toward the high end (right side). The mean would be pulled up by those expensive homes, making the median a better measure of the "typical" home price.</p>
                    </div>
                </div>
            </div>

            <!-- TAB 4: CENTRAL TENDENCY & SPREAD -->
            <div id="tab-4" class="tab-panel">
                <h2>Central Tendency & Spread</h2>
                <p>Two key questions when summarizing data: <strong>Where is the center?</strong> and <strong>How spread out are the scores?</strong></p>

                <h3>Measures of Central Tendency</h3>

                <table style="width:100%; border-collapse: collapse; margin: 15px 0;">
                    <tr style="background-color: #eee;">
                        <th style="padding:10px; border:1px solid #ccc;">Measure</th>
                        <th style="padding:10px; border:1px solid #ccc;">What It Is</th>
                        <th style="padding:10px; border:1px solid #ccc;">When to Use</th>
                        <th style="padding:10px; border:1px solid #ccc;">Limitation</th>
                    </tr>
                    <tr>
                        <td style="padding:10px; border:1px solid #ccc;"><strong>Mean</strong></td>
                        <td style="padding:10px; border:1px solid #ccc;">Sum of all scores √∑ N</td>
                        <td style="padding:10px; border:1px solid #ccc;">Scale data with <strong>normal distribution</strong></td>
                        <td style="padding:10px; border:1px solid #ccc;">Pulled by outliers/skew</td>
                    </tr>
                    <tr>
                        <td style="padding:10px; border:1px solid #ccc;"><strong>Median</strong></td>
                        <td style="padding:10px; border:1px solid #ccc;">Middle score when sorted</td>
                        <td style="padding:10px; border:1px solid #ccc;">Ordinal data OR <strong>skewed</strong> scale data</td>
                        <td style="padding:10px; border:1px solid #ccc;">Ignores actual values</td>
                    </tr>
                    <tr>
                        <td style="padding:10px; border:1px solid #ccc;"><strong>Mode</strong></td>
                        <td style="padding:10px; border:1px solid #ccc;">Most frequent score</td>
                        <td style="padding:10px; border:1px solid #ccc;"><strong>Nominal</strong> (categorical) data</td>
                        <td style="padding:10px; border:1px solid #ccc;">May not exist or have multiple</td>
                    </tr>
                </table>

                <div class="scenario-box">
                    <h4>Example: Outlier Impact</h4>
                    <p><strong>Salaries:</strong> $40K, $45K, $50K, $55K, $500K</p>
                    <p>Mean = ($40K + $45K + $50K + $55K + $500K) √∑ 5 = <strong>$138K</strong></p>
                    <p>Median = <strong>$50K</strong> (middle value)</p>
                    <p><em>The mean ($138K) suggests everyone earns well over $100K, but 4 out of 5 people earn under $60K! The median is more representative here.</em></p>
                </div>

                <h3>Measures of Spread (Variability)</h3>
                <p>Central tendency alone doesn't tell the whole story. Two datasets can have the same mean but very different spreads.</p>

                <table style="width:100%; border-collapse: collapse; margin: 15px 0;">
                    <tr style="background-color: #eee;">
                        <th style="padding:10px; border:1px solid #ccc;">Measure</th>
                        <th style="padding:10px; border:1px solid #ccc;">Formula</th>
                        <th style="padding:10px; border:1px solid #ccc;">What It Tells You</th>
                    </tr>
                    <tr>
                        <td style="padding:10px; border:1px solid #ccc;"><strong>Range</strong></td>
                        <td style="padding:10px; border:1px solid #ccc;">Maximum ‚àí Minimum</td>
                        <td style="padding:10px; border:1px solid #ccc;">Total spread; sensitive to outliers</td>
                    </tr>
                    <tr>
                        <td style="padding:10px; border:1px solid #ccc;"><strong>Variance</strong></td>
                        <td style="padding:10px; border:1px solid #ccc;">Average of squared deviations from mean</td>
                        <td style="padding:10px; border:1px solid #ccc;">Spread in squared units (hard to interpret)</td>
                    </tr>
                    <tr>
                        <td style="padding:10px; border:1px solid #ccc;"><strong>Standard Deviation (SD)</strong></td>
                        <td style="padding:10px; border:1px solid #ccc;">‚àöVariance</td>
                        <td style="padding:10px; border:1px solid #ccc;">Average distance from the mean (same units as data)</td>
                    </tr>
                </table>

                <h3>Calculating Variance & Standard Deviation (Process)</h3>
                <p>Your assignment may ask you to show the "Calculation Process." Do not just write the answer.</p>

                <div class="scenario-box">
                    <h4>Example: Showing Your Work</h4>
                    <p><strong>Data:</strong> 2, 4, 6</p>
                    <p><strong>Step 1: Mean (M)</strong> = (2+4+6)/3 = 4</p>
                    <p><strong>Step 2: Deviations (X - M)</strong><br>
                    2 - 4 = -2<br>
                    4 - 4 = 0<br>
                    6 - 4 = +2</p>
                    <p><strong>Step 3: Squared Deviations</strong><br>
                    (-2)¬≤ = 4<br>
                    (0)¬≤ = 0<br>
                    (+2)¬≤ = 4<br>
                    <strong>Sum of Squares (SS)</strong> = 4 + 0 + 4 = 8</p>
                    <p><strong>Step 4: Variance (SS √∑ (N-1))</strong><br>
                    8 √∑ (3-1) = 8 √∑ 2 = <strong>4</strong></p>
                    <p><strong>Step 5: Standard Deviation (‚àöVariance)</strong><br>
                    ‚àö4 = <strong>2</strong></p>
                </div>

                <div class="warning-box">
                    <strong>Why N-1?</strong> When working with a <em>sample</em> (not the whole population), we divide by N-1 instead of N. This is called <strong>Bessel's correction</strong> and gives a better estimate of the population variance. Excel's VAR.S and STDEV.S use N-1 automatically.
                </div>

                <h3>Which Statistics to Report Together</h3>
                <div style="display:flex; gap:20px; margin: 20px 0;">
                    <div style="flex:1; background:#e8f5e9; padding:15px; border-radius:6px;">
                        <h4>Normal Distribution</h4>
                        <p>Report: <strong>Mean ¬± SD</strong></p>
                        <p><em>"M = 75.3, SD = 12.4"</em></p>
                    </div>
                    <div style="flex:1; background:#fff3e0; padding:15px; border-radius:6px;">
                        <h4>Skewed Distribution</h4>
                        <p>Report: <strong>Median (Range)</strong></p>
                        <p><em>"Mdn = 45, Range = 12-89"</em></p>
                    </div>
                    <div style="flex:1; background:#e3f2fd; padding:15px; border-radius:6px;">
                        <h4>Categorical Data</h4>
                        <p>Report: <strong>Mode, Frequencies (%)</strong></p>
                        <p><em>"Mode = Mac (62%)"</em></p>
                    </div>
                </div>

                <div class="knowledge-check">
                    <h4>Knowledge Check</h4>
                    <p>Dataset A: 48, 49, 50, 51, 52 (Mean = 50)<br>
                    Dataset B: 20, 35, 50, 65, 80 (Mean = 50)<br>
                    Both have the same mean. Which has the larger standard deviation?</p>
                    <button class="reveal-btn" onclick="reveal('ans-sd')">Reveal Answer</button>
                    <div id="ans-sd" class="answer-reveal">
                        <p><strong>Dataset B</strong> has a much larger standard deviation. The scores are spread far from the mean (20 and 80 are 30 points away), while Dataset A's scores only deviate by 1-2 points from the mean. This illustrates why we need measures of spread‚Äîthe mean alone doesn't show how variable the data is.</p>
                    </div>
                </div>
            </div>

            <!-- TAB 5: VISUALS & APA -->
            <div id="tab-5" class="tab-panel">
                <h2>Visuals & APA Formatting</h2>

                <h3>Choosing the Right Graph</h3>
                <p>The type of graph depends on your data type and what you want to show.</p>

                <div style="display:flex; flex-wrap:wrap; gap:15px; margin: 20px 0;">
                    <div style="flex:1; min-width:200px; background:#e8f5e9; padding:15px; border-radius:6px;">
                        <h4>Bar Graph</h4>
                        <p><strong>Use for:</strong> Categorical (Nominal) data</p>
                        <p><strong>Visual:</strong> Bars DO NOT touch</p>
                        <p><strong>Example:</strong> Computer type preferences</p>
                        <div style="margin-top:10px; padding:10px; background:white; border-radius:4px;">
                            <div style="display:flex; align-items:flex-end; height:80px; gap:15px; justify-content:center;">
                                <div style="width:40px; background:#4caf50; height:70%;"></div>
                                <div style="width:40px; background:#4caf50; height:45%;"></div>
                                <div style="width:40px; background:#4caf50; height:30%;"></div>
                            </div>
                            <div style="text-align:center; font-size:0.8em; margin-top:5px;">Mac  PC  Linux</div>
                        </div>
                    </div>
                    <div style="flex:1; min-width:200px; background:#fff3e0; padding:15px; border-radius:6px;">
                        <h4>Histogram</h4>
                        <p><strong>Use for:</strong> Scale/Continuous data</p>
                        <p><strong>Visual:</strong> Bars TOUCH</p>
                        <p><strong>Example:</strong> Age distribution</p>
                        <div style="margin-top:10px; padding:10px; background:white; border-radius:4px;">
                            <div style="display:flex; align-items:flex-end; height:80px; gap:0; justify-content:center;">
                                <div style="width:30px; background:#ff9800; height:20%;"></div>
                                <div style="width:30px; background:#ff9800; height:45%;"></div>
                                <div style="width:30px; background:#ff9800; height:80%;"></div>
                                <div style="width:30px; background:#ff9800; height:60%;"></div>
                                <div style="width:30px; background:#ff9800; height:25%;"></div>
                            </div>
                            <div style="text-align:center; font-size:0.8em; margin-top:5px;">18-24  25-34  35-44...</div>
                        </div>
                    </div>
                    <div style="flex:1; min-width:200px; background:#e3f2fd; padding:15px; border-radius:6px;">
                        <h4>Pie Chart</h4>
                        <p><strong>Use for:</strong> Categorical data (parts of a whole)</p>
                        <p><strong>Visual:</strong> Slices = percentages</p>
                        <p><strong>Example:</strong> Major distribution</p>
                        <div style="margin-top:10px; padding:10px; background:white; border-radius:4px; text-align:center;">
                            <div style="width:70px; height:70px; border-radius:50%; background: conic-gradient(#2196f3 0% 45%, #64b5f6 45% 75%, #bbdefb 75% 100%); margin:0 auto;"></div>
                            <div style="font-size:0.8em; margin-top:5px;">Must total 100%</div>
                        </div>
                    </div>
                </div>

                <div class="warning-box">
                    <strong>Key Distinction:</strong> Bar graph bars are <strong>separated</strong> because categories are distinct. Histogram bars <strong>touch</strong> because continuous data flows from one value to the next.
                </div>

                <h3>Quick Reference: Graph Selection</h3>
                <table style="width:100%; border-collapse: collapse; margin: 15px 0;">
                    <tr style="background-color: #eee;">
                        <th style="padding:10px; border:1px solid #ccc;">Data Type</th>
                        <th style="padding:10px; border:1px solid #ccc;">Best Graph</th>
                        <th style="padding:10px; border:1px solid #ccc;">Example</th>
                    </tr>
                    <tr>
                        <td style="padding:10px; border:1px solid #ccc;">Nominal (categories)</td>
                        <td style="padding:10px; border:1px solid #ccc;">Bar graph or Pie chart</td>
                        <td style="padding:10px; border:1px solid #ccc;">Favorite color, Major</td>
                    </tr>
                    <tr>
                        <td style="padding:10px; border:1px solid #ccc;">Scale (continuous)</td>
                        <td style="padding:10px; border:1px solid #ccc;">Histogram</td>
                        <td style="padding:10px; border:1px solid #ccc;">Test scores, Age, Height</td>
                    </tr>
                    <tr>
                        <td style="padding:10px; border:1px solid #ccc;">Frequencies/Counts</td>
                        <td style="padding:10px; border:1px solid #ccc;">Bar graph (categories) or Histogram (ranges)</td>
                        <td style="padding:10px; border:1px solid #ccc;">Number per group</td>
                    </tr>
                </table>

                <h3>APA Table Rules (The "Clean Look")</h3>
                <p>APA tables are minimalist. Follow these strict rules to avoid point deductions:</p>
                <div class="apa-demo-table">
                    <table>
                        <tr>
                            <th colspan="3" style="border:none; text-align:center; font-style:italic;">Table 1<br>Descriptive Title Goes Here in Italics</th>
                        </tr>
                        <tr>
                            <th>Category</th>
                            <th>Frequency</th>
                            <th>Percentage</th>
                        </tr>
                        <tr>
                            <td>Category A</td>
                            <td>10</td>
                            <td>50%</td>
                        </tr>
                        <tr>
                            <td>Category B</td>
                            <td>10</td>
                            <td>50%</td>
                        </tr>
                        <tr style="border-bottom: 1px solid black;">
                            <td><strong>Total</strong></td>
                            <td><strong>20</strong></td>
                            <td><strong>100%</strong></td>
                        </tr>
                    </table>
                </div>

                <h4>APA Table Checklist</h4>
                <ul>
                    <li>‚úÖ <strong>Horizontal Lines:</strong> Only at the top, under headers, and at the very bottom</li>
                    <li>‚ùå <strong>Vertical Lines:</strong> NEVER use vertical lines to separate columns</li>
                    <li>‚úÖ <strong>Title:</strong> Above the table, numbered ("Table 1"), italicized description</li>
                    <li>‚úÖ <strong>Note:</strong> If needed, goes below the table (e.g., "Note. N = 50")</li>
                </ul>

                <h3>APA Figure Rules</h3>
                <ul>
                    <li><strong>Label:</strong> "Figure 1" goes <strong>BELOW</strong> the figure (differs from tables!)</li>
                    <li><strong>Caption:</strong> A descriptive sentence immediately follows the label</li>
                    <li><strong>Axes:</strong> Both X and Y axes must be labeled clearly (e.g., "Age Groups" not just "1, 2, 3")</li>
                    <li><strong>Legend:</strong> Include if multiple data series; keep inside or beside the figure</li>
                </ul>

                <div class="knowledge-check">
                    <h4>Knowledge Check</h4>
                    <p>You want to display how many students prefer each type of study location (library, dorm, coffee shop, home). What type of graph should you use?</p>
                    <button class="reveal-btn" onclick="reveal('ans-graph')">Reveal Answer</button>
                    <div id="ans-graph" class="answer-reveal">
                        <p><strong>Bar graph</strong> (or pie chart). Study location is a <em>categorical/nominal</em> variable‚Äîthe categories are distinct and have no numerical order. The bars should NOT touch. A pie chart would work if you want to emphasize what proportion of the whole each category represents.</p>
                    </div>
                </div>
            </div>

            <!-- TAB 6: EXCEL WORKSHOP -->
            <div id="tab-6" class="tab-panel">
                <h2>Excel Workshop</h2>

                <div class="warning-box">
                    <strong>Assignment Tip:</strong> You may need to calculate stats for only <em>one specific group</em> (e.g., "Unemployed Students"). You cannot run the formula on the whole column! You must <strong>Sort</strong> first, then select only the relevant rows.
                </div>

                <h3>1. How to Sort & Filter Data</h3>
                <ol>
                    <li>Highlight all your data (including headers).</li>
                    <li>Go to the <strong>Data</strong> tab > Click <strong>Sort</strong>.</li>
                    <li>Sort by the category you need (e.g., "Employment Status").</li>
                    <li>Now, look at the rows. All "Unemployed" students will be grouped together (e.g., Rows 2 through 15).</li>
                    <li>Run your formulas <strong>only on those specific cells</strong> (e.g., <code>=AVERAGE(B2:B15)</code>).</li>
                </ol>

                <h3>2. Essential Formulas Cheat Sheet</h3>
                <div class="excel-block">
                    <strong>Central Tendency</strong><br>
                    Mean: =AVERAGE(range)<br>
                    Median: =MEDIAN(range)<br>
                    Mode: =MODE.SNGL(range)<br><br>

                    <strong>Spread/Variability</strong><br>
                    Variance (Sample): =VAR.S(range)<br>
                    Std Dev (Sample): =STDEV.S(range)<br>
                    Range: =MAX(range) - MIN(range)<br><br>

                    <strong>Counting & Frequencies</strong><br>
                    Count numbers: =COUNT(range)<br>
                    Count all cells: =COUNTA(range)<br>
                    Count specific value: =COUNTIF(range, "value")<br>
                    Example: =COUNTIF(A2:A100, "Mac")
                </div>

                <h3>3. Creating Frequency Tables with COUNTIF</h3>
                <p>Use COUNTIF to count how many times each category appears:</p>

                <div class="scenario-box">
                    <h4>Example: Counting Computer Types</h4>
                    <p>If Column A contains computer types (Mac, PC, Mac, PC, Linux...):</p>
                    <table style="width:100%; border-collapse:collapse; margin-top:10px;">
                        <tr style="background:#eee;">
                            <th style="padding:8px; border:1px solid #ccc;">Category</th>
                            <th style="padding:8px; border:1px solid #ccc;">Formula</th>
                            <th style="padding:8px; border:1px solid #ccc;">Result</th>
                        </tr>
                        <tr>
                            <td style="padding:8px; border:1px solid #ccc;">Mac</td>
                            <td style="padding:8px; border:1px solid #ccc; font-family:monospace;">=COUNTIF(A:A, "Mac")</td>
                            <td style="padding:8px; border:1px solid #ccc;">15</td>
                        </tr>
                        <tr>
                            <td style="padding:8px; border:1px solid #ccc;">PC</td>
                            <td style="padding:8px; border:1px solid #ccc; font-family:monospace;">=COUNTIF(A:A, "PC")</td>
                            <td style="padding:8px; border:1px solid #ccc;">22</td>
                        </tr>
                        <tr>
                            <td style="padding:8px; border:1px solid #ccc;">Linux</td>
                            <td style="padding:8px; border:1px solid #ccc; font-family:monospace;">=COUNTIF(A:A, "Linux")</td>
                            <td style="padding:8px; border:1px solid #ccc;">8</td>
                        </tr>
                    </table>
                </div>

                <h3>4. Creating Histograms in Excel</h3>
                <p>If you have a wide range of continuous data (like Age 18-60), you must create <strong>Bins</strong> (Groups).</p>

                <h4>Step-by-Step: Creating a Histogram</h4>
                <ol>
                    <li><strong>Select your data</strong> (the column with your continuous variable)</li>
                    <li>Go to <strong>Insert</strong> tab > <strong>Charts</strong> section</li>
                    <li>Click <strong>Insert Statistic Chart</strong> > <strong>Histogram</strong></li>
                    <li>Right-click the X-axis > <strong>Format Axis</strong> to adjust bin width</li>
                    <li><strong>Rule of Thumb:</strong> Aim for 5-10 bins. Too few = no detail. Too many = messy.</li>
                </ol>

                <h4>Manual Bins with COUNTIF</h4>
                <p>To count values in specific ranges:</p>
                <div class="excel-block">
                    Ages 18-24: =COUNTIFS(A:A, ">=18", A:A, "<=24")<br>
                    Ages 25-34: =COUNTIFS(A:A, ">=25", A:A, "<=34")<br>
                    Ages 35-44: =COUNTIFS(A:A, ">=35", A:A, "<=44")
                </div>

                <h3>5. Creating Bar Graphs</h3>
                <ol>
                    <li>Create a frequency table (categories in one column, counts in another)</li>
                    <li>Select both columns</li>
                    <li>Go to <strong>Insert</strong> > <strong>Charts</strong> > <strong>Bar Chart</strong> or <strong>Column Chart</strong></li>
                    <li>Add axis labels and a title</li>
                </ol>

                <div class="knowledge-check">
                    <h4>Quick Practice</h4>
                    <p>You have data in column B (rows 2-50) showing test scores. Write the Excel formula to find the standard deviation.</p>
                    <button class="reveal-btn" onclick="reveal('ans-excel')">Reveal Answer</button>
                    <div id="ans-excel" class="answer-reveal">
                        <p><code>=STDEV.S(B2:B50)</code></p>
                        <p>We use STDEV.S (not STDEV.P) because we're working with a <em>sample</em>, not the entire population. The "S" stands for "sample."</p>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="tab-navigation bottom-nav">
        <button class="tab-button" onclick="showTab(1)">
            <input type="checkbox" id="progress-1-bottom" class="tab-checkbox" onchange="toggleTabComplete(1)">
            1. Intro & Logic
        </button>
        <button class="tab-button" onclick="showTab(2)">
            <input type="checkbox" id="progress-2-bottom" class="tab-checkbox" onchange="toggleTabComplete(2)">
            2. Variables & Scales
        </button>
        <button class="tab-button" onclick="showTab(3)">
            <input type="checkbox" id="progress-3-bottom" class="tab-checkbox" onchange="toggleTabComplete(3)">
            3. Distributions
        </button>
        <button class="tab-button" onclick="showTab(4)">
            <input type="checkbox" id="progress-4-bottom" class="tab-checkbox" onchange="toggleTabComplete(4)">
            4. Central Tendency
        </button>
        <button class="tab-button" onclick="showTab(5)">
            <input type="checkbox" id="progress-5-bottom" class="tab-checkbox" onchange="toggleTabComplete(5)">
            5. Visuals & APA
        </button>
        <button class="tab-button" onclick="showTab(6)">
            <input type="checkbox" id="progress-6-bottom" class="tab-checkbox" onchange="toggleTabComplete(6)">
            6. Excel Workshop
        </button>
    </div>

    <!-- Learning Objectives Checklist -->
    <div style="background: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); margin-top: 20px; border-left: 5px solid #28a745;">
        <h2 style="margin-top: 0; color: #2c3e50;">Module 1 Learning Objectives Checklist</h2>
        <p>By the end of this module, you should be able to:</p>
        <ul style="list-style: none; padding-left: 0;">
            <li style="padding: 8px 0; border-bottom: 1px solid #eee;">
                <input type="checkbox" id="obj1" style="margin-right: 10px;">
                <label for="obj1">Compare and contrast descriptive and inferential statistics</label>
            </li>
            <li style="padding: 8px 0; border-bottom: 1px solid #eee;">
                <input type="checkbox" id="obj2" style="margin-right: 10px;">
                <label for="obj2">Examine frequency distributions of a data set</label>
            </li>
            <li style="padding: 8px 0; border-bottom: 1px solid #eee;">
                <input type="checkbox" id="obj3" style="margin-right: 10px;">
                <label for="obj3">Describe characteristics of normally distributed data (including skewness and kurtosis)</label>
            </li>
            <li style="padding: 8px 0; border-bottom: 1px solid #eee;">
                <input type="checkbox" id="obj4" style="margin-right: 10px;">
                <label for="obj4">Identify and create appropriate graphs (histogram, bar graph, pie chart)</label>
            </li>
            <li style="padding: 8px 0; border-bottom: 1px solid #eee;">
                <input type="checkbox" id="obj5" style="margin-right: 10px;">
                <label for="obj5">Calculate central tendency: mean, median, mode</label>
            </li>
            <li style="padding: 8px 0; border-bottom: 1px solid #eee;">
                <input type="checkbox" id="obj6" style="margin-right: 10px;">
                <label for="obj6">Calculate spread of distribution: range, standard deviation, variance</label>
            </li>
            <li style="padding: 8px 0; border-bottom: 1px solid #eee;">
                <input type="checkbox" id="obj7" style="margin-right: 10px;">
                <label for="obj7">Define different kinds of variables (NOIR: Nominal, Ordinal, Interval, Ratio)</label>
            </li>
            <li style="padding: 8px 0;">
                <input type="checkbox" id="obj8" style="margin-right: 10px;">
                <label for="obj8">Format tables and graphs in APA style</label>
            </li>
        </ul>
    </div>

    <script>
        // Progress tracking storage key
        const PROGRESS_KEY = 'psy230-m1-lecture-progress';

        // Load saved progress on page load
        function loadProgress() {
            const savedProgress = localStorage.getItem(PROGRESS_KEY);
            if (savedProgress) {
                const progress = JSON.parse(savedProgress);
                Object.keys(progress).forEach(tabNumber => {
                    const isComplete = progress[tabNumber];
                    // Update both top and bottom checkboxes
                    const topCheckbox = document.getElementById(`progress-${tabNumber}`);
                    const bottomCheckbox = document.getElementById(`progress-${tabNumber}-bottom`);
                    if (topCheckbox) topCheckbox.checked = isComplete;
                    if (bottomCheckbox) bottomCheckbox.checked = isComplete;
                    // Update visual state
                    updateTabVisualState(parseInt(tabNumber), isComplete);
                });
            }
        }

        // Save progress to localStorage
        function saveProgress(tabNumber, isComplete) {
            const savedProgress = localStorage.getItem(PROGRESS_KEY);
            const progress = savedProgress ? JSON.parse(savedProgress) : {};
            progress[tabNumber] = isComplete;
            localStorage.setItem(PROGRESS_KEY, JSON.stringify(progress));
        }

        // Toggle tab completion
        function toggleTabComplete(tabNumber) {
            const clickedCheckbox = event.target;
            const isComplete = clickedCheckbox.checked;
            
            // Update both top and bottom checkboxes to stay in sync
            const topCheckbox = document.getElementById(`progress-${tabNumber}`);
            const bottomCheckbox = document.getElementById(`progress-${tabNumber}-bottom`);
            if (topCheckbox) topCheckbox.checked = isComplete;
            if (bottomCheckbox) bottomCheckbox.checked = isComplete;
            
            // Update visual state
            updateTabVisualState(tabNumber, isComplete);
            
            // Save to localStorage
            saveProgress(tabNumber, isComplete);
        }

        // Update visual state of tab buttons when completed
        function updateTabVisualState(tabNumber, isComplete) {
            // Find all tab buttons for this tab (top and bottom)
            const tabButtons = document.querySelectorAll(`button[onclick="showTab(${tabNumber})"]`);
            tabButtons.forEach(button => {
                if (isComplete) {
                    button.classList.add('completed');
                } else {
                    button.classList.remove('completed');
                }
            });
        }

        function showTab(tabIndex) {
            // Hide all panels
            document.querySelectorAll('.tab-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            // Show target panel
            document.getElementById('tab-' + tabIndex).classList.add('active');
            
            // Update button states (both top and bottom)
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            // Activate the clicked button
            event.target.classList.add('active');
            
            // Scroll to top of tabs for better UX
            const tabContainer = document.querySelector('.lecture-tabs');
            if (tabContainer) {
                tabContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        function reveal(id) {
            const el = document.getElementById(id);
            if(el.style.display === 'block') {
                el.style.display = 'none';
            } else {
                el.style.display = 'block';
            }
        }

        // Load progress when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadProgress();
        });
    </script>
</body>
</html>